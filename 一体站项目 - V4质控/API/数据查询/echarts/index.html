<!DOCTYPE html>
<html style="height: 100%">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    </meta>

    <style type="text/css">
		table.hovertable {
			font-family: verdana, arial, sans-serif;
			font-size: 11px;
			color: #333333;
			border-width: 1px;
			border-color: #999999;
			border-collapse: collapse;
		}

		table.hovertable th {
			background-color: #c3dde0;
			border-width: 1px;
			padding: 8px;
			border-style: solid;
			border-color: #a9c6c9;
		}

		table.hovertable tr {
			background-color: #d4e3e5;
		}

		table.hovertable td {
			border-width: 1px;
			padding: 8px;
			border-style: solid;
			border-color: #a9c6c9;
		}
	</style>
</head><body style="height: 100%; margin: 0">
    <div id="container" style="height: 100%"></div>

    <script type="text/javascript" src="./echarts.min.js"></script>
    <!-- Uncomment this line if you want to dataTool extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5.0.0/dist/extension/dataTool.min.js"></script>
        -->
    <!-- Uncomment this line if you want to use gl extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl@2.0.0-rc.1/dist/echarts-gl.min.js"></script>
        -->
    <!-- Uncomment this line if you want to echarts-stat extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
        -->
    <!-- Uncomment this line if you want to use map
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5.0.0/map/js/china.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5.0.0/map/js/world.js"></script>
        -->
    <!-- Uncomment these two lines if you want to use bmap extension
        <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=<Your Key Here>"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5.0.0/dist/extension/bmap.min.js"></script>
        --><script type="text/javascript">
    var myChart = echarts.init(document.getElementById('container'));
    var option;
    var colors = ['#4962FC', '#7570B3', '#dd3ee5', '#12e78c', '#fe8104', '#01C2F9', '#F4CB29', '#FD9E06', '#E7298A', '#1B9E77'];option = {
color: colors,

tooltip: {
trigger: 'axis',
axisPointer: {

type: 'cross'
}
},
grid: {
show: false,
containLabel: true,
},legend: {
selected:{
'pH':true,

}
},dataset:{
source:[['时间',	'pH',
],	['21/02/23 15:11:37',	'7.24',
],	['21/03/15 20:14:29',	'7.64',
],	['21/03/16 00:14:26',	'7.72',
],	['21/03/16 04:14:30',	'7.82',
],	['21/03/16 08:14:35',	'8.03',
],	['21/03/16 12:14:33',	'7.67',
],	['21/03/16 14:57:11',	'7.59',
],	['21/03/16 16:21:16',	'7.56',
],	['21/03/16 20:14:32',	'7.61',
],	['21/03/17 00:14:31',	'7.69',
],	['21/03/17 04:14:29',	'7.79',
],	['21/03/17 08:14:33',	'7.97',
],	['21/03/17 12:14:33',	'7.67',
],	['21/03/17 16:14:34',	'7.58',
],	['21/03/17 20:14:28',	'7.62',
],	['21/03/18 00:14:32',	'7.69',
],	['21/03/18 04:14:28',	'7.79',
],	['21/03/18 08:14:33',	'8.03',
],	['21/03/18 12:14:32',	'7.69',
],	['21/03/18 16:14:34',	'7.59',
],	['21/04/29 13:57:00',	'9.18',
],	['21/04/29 13:58:00',	'9.18',
],	['21/04/29 13:59:00',	'9.18',
],	['21/04/29 14:00:00',	'9.18',
],	['21/04/29 14:01:00',	'9.18',
],	['21/04/29 14:02:00',	'9.18',
],	['21/04/29 14:03:00',	'9.18',
],	['21/04/29 14:04:00',	'9.18',
],	['21/04/29 14:05:00',	'9.18',
],	['21/04/29 14:10:00',	'6.90',
],	['21/04/29 14:11:00',	'6.90',
],	['21/04/29 14:12:00',	'6.89',
],	['21/04/29 14:13:00',	'6.89',
],	['21/04/29 14:14:00',	'6.89',
],	['21/04/29 14:15:00',	'6.89',
],	['21/04/29 14:16:00',	'6.89',
],	['21/04/29 14:17:00',	'6.89',
],	['21/04/29 14:18:00',	'6.89',
],	['21/04/29 14:24:00',	'4.00',
],	['21/04/29 14:25:00',	'3.99',
],	['21/04/29 14:26:00',	'3.99',
],	['21/04/29 14:27:00',	'3.99',
],	['21/04/29 14:28:00',	'3.99',
],	['21/04/29 14:29:00',	'3.99',
],	['21/04/29 14:30:00',	'3.99',
],	['21/04/29 14:31:00',	'3.99',
],	['21/04/29 14:33:00',	'3.99',
],	['21/04/29 14:34:00',	'3.98',
],	['21/05/01 18:14:33',	'7.43',
],	['21/05/02 18:14:33',	'7.49',
],	['21/05/03 18:14:35',	'7.53',
],	['21/05/04 18:14:33',	'7.50',
],	['21/05/05 18:14:33',	'7.50',
],	['21/05/06 18:14:33',	'7.48',
],	['21/05/07 18:14:33',	'7.51',
],	['21/05/08 18:14:39',	'7.53',
],	['21/05/09 18:14:33',	'7.49',
],	['21/05/10 18:14:37',	'7.49',
],	['21/05/11 20:14:34',	'7.46',
],	['21/05/12 00:14:38',	'7.39',
],	['21/05/12 04:14:37',	'7.38',
],	['21/05/12 08:14:38',	'7.38',
],	['21/05/12 20:14:37',	'7.43',
],	['21/05/13 00:14:35',	'7.40',
],	['21/05/13 04:14:34',	'7.38',
],	['21/05/13 08:14:34',	'7.36',
],	['21/05/13 16:14:34',	'7.44',
],	['21/05/13 20:14:34',	'7.42',
],	['21/05/14 00:14:38',	'7.37',
],	['21/05/14 04:14:37',	'7.36',
],	['21/05/14 08:14:38',	'7.34',
],	['21/05/14 12:14:39',	'7.36',
],	['21/05/14 16:14:38',	'7.40',
],	['21/05/14 20:14:39',	'7.34',
],	['21/05/15 00:14:35',	'7.37',
],	['21/05/15 04:14:34',	'7.36',
],	['21/05/15 08:14:34',	'7.33',
],	['21/05/15 16:30:15',	'7.43',
],	['21/05/15 20:14:34',	'7.36',
],	['21/05/16 00:14:37',	'7.32',
],	['21/05/16 04:14:38',	'7.30',
],	['21/05/16 08:15:06',	'7.28',
],	['21/05/16 12:14:44',	'7.30',
],	['21/05/16 16:14:38',	'7.33',
],	['21/05/16 20:14:38',	'7.30',
],	['21/05/17 00:14:35',	'7.30',
],	['21/05/17 04:14:51',	'7.28',
],	['21/05/17 08:14:34',	'7.26',
],	['21/05/17 12:14:35',	'7.30',
],	['21/05/17 16:14:34',	'7.34',
],	['21/05/17 17:18:49',	'7.36',
],	['21/05/17 20:14:34',	'7.38',
],	['21/05/18 00:14:38',	'7.36',
],	['21/05/18 04:14:38',	'7.35',
],	['21/05/18 08:14:38',	'7.35',
],	['21/05/18 12:14:39',	'7.38',
],	['21/05/18 12:40:00',	'6.95',
],	['21/05/18 13:00:00',	'6.93',
],	['21/05/18 13:01:00',	'6.94',
],	['21/05/18 16:14:39',	'7.34',
],	['21/05/18 20:14:37',	'7.35',
],	['21/05/19 00:14:34',	'7.31',
],	['21/05/19 04:14:34',	'7.29',
],	['21/05/19 08:14:34',	'7.28',
],	['21/05/19 12:14:35',	'7.32',
],	['21/05/19 20:14:35',	'7.40',
],	['21/05/20 00:14:38',	'7.33',
],	['21/05/20 04:14:38',	'7.29',
],	['21/05/20 08:14:38',	'7.30',
],	['21/05/20 12:14:39',	'7.35',
],	['21/05/20 16:14:38',	'7.40',
],	['21/05/20 20:14:38',	'7.36',
],	['21/05/21 00:14:34',	'7.38',
],	['21/05/21 04:14:34',	'7.36',
],	['21/05/21 08:14:34',	'7.30',
],	['21/05/21 16:14:34',	'7.38',
],	['21/05/21 20:14:35',	'7.21',
],	['21/05/22 00:14:38',	'7.15',
],	['21/05/22 04:14:38',	'7.18',
],	['21/05/22 08:14:38',	'7.20',
],	['21/05/22 12:14:39',	'7.30',
],	['21/05/22 16:14:37',	'7.43',
],	['21/05/22 20:14:38',	'7.40',
],	['21/05/23 00:14:35',	'7.35',
],	['21/05/23 04:14:35',	'7.32',
],	['21/05/23 08:14:35',	'7.32',
],	['21/05/23 12:14:35',	'7.36',
],	['21/05/23 16:14:35',	'7.40',
],	['21/05/23 20:14:35',	'7.39',
],	['21/05/24 00:14:38',	'7.37',
],	['21/05/24 04:14:38',	'7.37',
],	['21/05/24 08:14:38',	'7.36',
],	['21/05/24 12:14:37',	'7.44',
],	['21/05/24 16:14:39',	'7.48',
],	['21/05/24 20:14:38',	'7.43',
],	['21/05/25 00:14:34',	'7.41',
],	['21/05/25 04:14:35',	'7.39',
],	['21/05/25 08:14:35',	'7.41',
],	['21/05/25 12:14:35',	'7.50',
],	['21/05/25 13:51:00',	'6.94',
],	['21/05/25 13:52:00',	'6.89',
],	['21/05/25 16:14:35',	'7.56',
],	['21/05/25 20:14:34',	'7.51',
],	['21/05/26 00:14:38',	'7.45',
],	['21/05/26 04:14:38',	'7.41',
],	['21/05/26 08:14:39',	'7.35',
],
]
},xAxis: [
{
type: 'category',
axisTick: {
alignWithLabel: true
},
},
],yAxis: [
{
name: 'pH',
type: 'value',
min: 'dataMin',
max: 'dataMax',
offset: 0,
position: 'left',
splitLine: { show: false },
axisLine: {
show: true,
lineStyle: {
color: colors[0]
}

},
axisLabel: {
formatter: '{value}'
}


},

],toolbox: {
                show: true,

                feature: {
                    mark: { show: true },
                    dataView: {
                        show: true, title: '数据视图', readOnly: true,
optionToContent: function (opt) {
                            var series = opt.dataset[0].source;
                            var tdHeads = '';
                            
                            var table = '<div style="height:100overflow:scroll;"><table class ="hovertable";border="1" style="border-collapse:collapse;text-align:center"><tbody><tr>' + tdHeads + '</tr>';
                            var tdBodys = '';
                            for (var i = 0, l = series.length; i < l; i++) {
                                for (var j = 0; j < series[0].length; j++) {
                                    if (typeof (series[i][j]) == 'object') {

 
                                        tdBodys += '<td>' + series[i][j] + '</td>';
                                    } else {
                                        tdBodys += '<td>' + series[i][j] + '</td>';
                                    }
                                }
                                table += '<tr onmouseover="this.style.backgroundColor=&#39;#ffff66&#39;;" onmouseout="this.style.backgroundColor=&#39;#d4e3e5&#39;;" style="background-color: rgb(212, 227, 229);">' + tdBodys + '</tr>';
                                tdBodys = '';
                            }
                            table += '</tbody></table></div>';
                            return table;
                        }
                    },
                    magicType: { show: true, title: { line: '折线图', bar: '柱状图', }, type: ['line', 'bar'] },
                    restore: { show: true, title: '刷新' },
                    saveAsImage: { show: true, title: '保存图片', backgroundColor: '#fff' },
                }
            },


dataZoom: [ { show: true, type: 'slider' , realtime: true, start: 66, end: 100, height: 50,
                bottom: 10, }, { type: 'inside' , start: 66, end: 100 }, ],series: [
{
name: 'pH',
type: 'line',
yAxisIndex: 0,
smooth: false,
connectNulls:true,
emphasis: {
focus: 'series'
},
itemStyle: {
normal: {
color: colors[0],
}
},
markPoint: {
data: [
{ type: 'max', name: '最大值' },
{ type: 'min', name: '最小值' }
],
},
markLine: {
data: [
{ type: 'average', name: '平均值' }
]
},
},

]};
option && myChart.setOption(option);
myChart.on('legendselectchanged', function (params) {
    var isSelected = params.selected[params.name];
    var arr = [];
    var k = 0;
    var b ;
    for (let i in params.selected){
    
            if(params.selected[i]){

                arr.push({
                    'show':true,
                    offset: parseInt(k/2) * 50,
                    position: k % 2 == 0 ? 'left' : "right",
            }
            );
            k = k + 1;
            }
            else{
                arr.push({
                    'show':false,
                    offset: 0,
                });
            }
    };
b = {yAxis:JSON.parse(JSON.stringify(arr))};
    option && myChart.setOption(b);
});
</script>
</body>

</html>